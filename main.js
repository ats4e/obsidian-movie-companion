/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Ue=Object.defineProperty;var Vo=Object.getOwnPropertyDescriptor;var Ho=Object.getOwnPropertyNames,Wt=Object.getOwnPropertySymbols;var Ut=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable;var Kt=(o,t,e)=>t in o?Ue(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,Yt=(o,t)=>{for(var e in t||(t={}))Ut.call(t,e)&&Kt(o,e,t[e]);if(Wt)for(var e of Wt(t))Wo.call(t,e)&&Kt(o,e,t[e]);return o};var Ko=(o,t)=>{for(var e in t)Ue(o,e,{get:t[e],enumerable:!0})},Uo=(o,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ho(t))!Ut.call(o,r)&&r!==e&&Ue(o,r,{get:()=>t[r],enumerable:!(i=Vo(t,r))||i.enumerable});return o};var Yo=o=>Uo(Ue({},"__esModule",{value:!0}),o);var u=(o,t,e)=>new Promise((i,r)=>{var n=a=>{try{l(e.next(a))}catch(c){r(c)}},s=a=>{try{l(e.throw(a))}catch(c){r(c)}},l=a=>a.done?i(a.value):Promise.resolve(a.value).then(n,s);l((e=e.apply(o,t)).next())});var Ki={};Ko(Ki,{default:()=>ft});module.exports=Yo(Ki);var gt=require("obsidian");var q=require("obsidian");var wo=require("obsidian");var vo=require("obsidian");var A="top",D="bottom",T="right",L="left",Ye="auto",te=[A,D,T,L],G="start",le="end",Xt="clippingParents",Xe="viewport",ve="popper",Qt="reference",yt=te.reduce(function(o,t){return o.concat([t+"-"+G,t+"-"+le])},[]),Qe=[].concat(te,[Ye]).reduce(function(o,t){return o.concat([t,t+"-"+G,t+"-"+le])},[]),Xo="beforeRead",Qo="read",Go="afterRead",Jo="beforeMain",Zo="main",ei="afterMain",ti="beforeWrite",oi="write",ii="afterWrite",Gt=[Xo,Qo,Go,Jo,Zo,ei,ti,oi,ii];function F(o){return o?(o.nodeName||"").toLowerCase():null}function x(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var t=o.ownerDocument;return t&&t.defaultView||window}return o}function V(o){var t=x(o).Element;return o instanceof t||o instanceof Element}function N(o){var t=x(o).HTMLElement;return o instanceof t||o instanceof HTMLElement}function we(o){if(typeof ShadowRoot=="undefined")return!1;var t=x(o).ShadowRoot;return o instanceof t||o instanceof ShadowRoot}function ri(o){var t=o.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},r=t.attributes[e]||{},n=t.elements[e];!N(n)||!F(n)||(Object.assign(n.style,i),Object.keys(r).forEach(function(s){var l=r[s];l===!1?n.removeAttribute(s):n.setAttribute(s,l===!0?"":l)}))})}function ni(o){var t=o.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],n=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),l=s.reduce(function(a,c){return a[c]="",a},{});!N(r)||!F(r)||(Object.assign(r.style,l),Object.keys(n).forEach(function(a){r.removeAttribute(a)}))})}}var Jt={name:"applyStyles",enabled:!0,phase:"write",fn:ri,effect:ni,requires:["computeStyles"]};function R(o){return o.split("-")[0]}var Y=Math.max,ce=Math.min,J=Math.round;function be(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Be(){return!/^((?!chrome|android).)*safari/i.test(be())}function H(o,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=o.getBoundingClientRect(),r=1,n=1;t&&N(o)&&(r=o.offsetWidth>0&&J(i.width)/o.offsetWidth||1,n=o.offsetHeight>0&&J(i.height)/o.offsetHeight||1);var s=V(o)?x(o):window,l=s.visualViewport,a=!Be()&&e,c=(i.left+(a&&l?l.offsetLeft:0))/r,m=(i.top+(a&&l?l.offsetTop:0))/n,d=i.width/r,w=i.height/n;return{width:d,height:w,top:m,right:c+d,bottom:m+w,left:c,x:c,y:m}}function pe(o){var t=H(o),e=o.offsetWidth,i=o.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:o.offsetLeft,y:o.offsetTop,width:e,height:i}}function Fe(o,t){var e=t.getRootNode&&t.getRootNode();if(o.contains(t))return!0;if(e&&we(e)){var i=t;do{if(i&&o.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function j(o){return x(o).getComputedStyle(o)}function _t(o){return["table","td","th"].indexOf(F(o))>=0}function k(o){return((V(o)?o.ownerDocument:o.document)||window.document).documentElement}function Z(o){return F(o)==="html"?o:o.assignedSlot||o.parentNode||(we(o)?o.host:null)||k(o)}function Zt(o){return!N(o)||j(o).position==="fixed"?null:o.offsetParent}function ai(o){var t=/firefox/i.test(be()),e=/Trident/i.test(be());if(e&&N(o)){var i=j(o);if(i.position==="fixed")return null}var r=Z(o);for(we(r)&&(r=r.host);N(r)&&["html","body"].indexOf(F(r))<0;){var n=j(r);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return r;r=r.parentNode}return null}function X(o){for(var t=x(o),e=Zt(o);e&&_t(e)&&j(e).position==="static";)e=Zt(e);return e&&(F(e)==="html"||F(e)==="body"&&j(e).position==="static")?t:e||ai(o)||t}function me(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function ue(o,t,e){return Y(o,ce(t,e))}function eo(o,t,e){var i=ue(o,t,e);return i>e?e:i}function Re(){return{top:0,right:0,bottom:0,left:0}}function Oe(o){return Object.assign({},Re(),o)}function ke(o,t){return t.reduce(function(e,i){return e[i]=o,e},{})}var si=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Oe(typeof t!="number"?t:ke(t,te))};function li(o){var t,e=o.state,i=o.name,r=o.options,n=e.elements.arrow,s=e.modifiersData.popperOffsets,l=R(e.placement),a=me(l),c=[L,T].indexOf(l)>=0,m=c?"height":"width";if(!(!n||!s)){var d=si(r.padding,e),w=pe(n),f=a==="y"?A:L,_=a==="y"?D:T,g=e.rects.reference[m]+e.rects.reference[a]-s[a]-e.rects.popper[m],v=s[a]-e.rects.reference[a],C=X(n),S=C?a==="y"?C.clientHeight||0:C.clientWidth||0:0,M=g/2-v/2,h=d[f],b=S-w[m]-d[_],y=S/2-w[m]/2+M,P=ue(h,y,b),O=a;e.modifiersData[i]=(t={},t[O]=P,t.centerOffset=P-y,t)}}function ci(o){var t=o.state,e=o.options,i=e.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Fe(t.elements.popper,r)&&(t.elements.arrow=r))}var to={name:"arrow",enabled:!0,phase:"main",fn:li,effect:ci,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function W(o){return o.split("-")[1]}var pi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mi(o,t){var e=o.x,i=o.y,r=t.devicePixelRatio||1;return{x:J(e*r)/r||0,y:J(i*r)/r||0}}function oo(o){var t,e=o.popper,i=o.popperRect,r=o.placement,n=o.variation,s=o.offsets,l=o.position,a=o.gpuAcceleration,c=o.adaptive,m=o.roundOffsets,d=o.isFixed,w=s.x,f=w===void 0?0:w,_=s.y,g=_===void 0?0:_,v=typeof m=="function"?m({x:f,y:g}):{x:f,y:g};f=v.x,g=v.y;var C=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),M=L,h=A,b=window;if(c){var y=X(e),P="clientHeight",O="clientWidth";if(y===x(e)&&(y=k(e),j(y).position!=="static"&&l==="absolute"&&(P="scrollHeight",O="scrollWidth")),y=y,r===A||(r===L||r===T)&&n===le){h=D;var B=d&&y===b&&b.visualViewport?b.visualViewport.height:y[P];g-=B-i.height,g*=a?1:-1}if(r===L||(r===A||r===D)&&n===le){M=T;var E=d&&y===b&&b.visualViewport?b.visualViewport.width:y[O];f-=E-i.width,f*=a?1:-1}}var I=Object.assign({position:l},c&&pi),K=m===!0?mi({x:f,y:g},x(e)):{x:f,y:g};if(f=K.x,g=K.y,a){var $;return Object.assign({},I,($={},$[h]=S?"0":"",$[M]=C?"0":"",$.transform=(b.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",$))}return Object.assign({},I,(t={},t[h]=S?g+"px":"",t[M]=C?f+"px":"",t.transform="",t))}function ui(o){var t=o.state,e=o.options,i=e.gpuAcceleration,r=i===void 0?!0:i,n=e.adaptive,s=n===void 0?!0:n,l=e.roundOffsets,a=l===void 0?!0:l,c={placement:R(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,oo(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,oo(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var io={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ui,data:{}};var Ge={passive:!0};function di(o){var t=o.state,e=o.instance,i=o.options,r=i.scroll,n=r===void 0?!0:r,s=i.resize,l=s===void 0?!0:s,a=x(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(m){m.addEventListener("scroll",e.update,Ge)}),l&&a.addEventListener("resize",e.update,Ge),function(){n&&c.forEach(function(m){m.removeEventListener("scroll",e.update,Ge)}),l&&a.removeEventListener("resize",e.update,Ge)}}var ro={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:di,data:{}};var fi={left:"right",right:"left",bottom:"top",top:"bottom"};function ye(o){return o.replace(/left|right|bottom|top/g,function(t){return fi[t]})}var gi={start:"end",end:"start"};function Je(o){return o.replace(/start|end/g,function(t){return gi[t]})}function de(o){var t=x(o),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function fe(o){return H(k(o)).left+de(o).scrollLeft}function Ct(o,t){var e=x(o),i=k(o),r=e.visualViewport,n=i.clientWidth,s=i.clientHeight,l=0,a=0;if(r){n=r.width,s=r.height;var c=Be();(c||!c&&t==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}return{width:n,height:s,x:l+fe(o),y:a}}function xt(o){var t,e=k(o),i=de(o),r=(t=o.ownerDocument)==null?void 0:t.body,n=Y(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Y(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+fe(o),a=-i.scrollTop;return j(r||e).direction==="rtl"&&(l+=Y(e.clientWidth,r?r.clientWidth:0)-n),{width:n,height:s,x:l,y:a}}function ge(o){var t=j(o),e=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+i)}function Ze(o){return["html","body","#document"].indexOf(F(o))>=0?o.ownerDocument.body:N(o)&&ge(o)?o:Ze(Z(o))}function oe(o,t){var e;t===void 0&&(t=[]);var i=Ze(o),r=i===((e=o.ownerDocument)==null?void 0:e.body),n=x(i),s=r?[n].concat(n.visualViewport||[],ge(i)?i:[]):i,l=t.concat(s);return r?l:l.concat(oe(Z(s)))}function _e(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function hi(o,t){var e=H(o,!1,t==="fixed");return e.top=e.top+o.clientTop,e.left=e.left+o.clientLeft,e.bottom=e.top+o.clientHeight,e.right=e.left+o.clientWidth,e.width=o.clientWidth,e.height=o.clientHeight,e.x=e.left,e.y=e.top,e}function no(o,t,e){return t===Xe?_e(Ct(o,e)):V(t)?hi(t,e):_e(xt(k(o)))}function vi(o){var t=oe(Z(o)),e=["absolute","fixed"].indexOf(j(o).position)>=0,i=e&&N(o)?X(o):o;return V(i)?t.filter(function(r){return V(r)&&Fe(r,i)&&F(r)!=="body"}):[]}function Pt(o,t,e,i){var r=t==="clippingParents"?vi(o):[].concat(t),n=[].concat(r,[e]),s=n[0],l=n.reduce(function(a,c){var m=no(o,c,i);return a.top=Y(m.top,a.top),a.right=ce(m.right,a.right),a.bottom=ce(m.bottom,a.bottom),a.left=Y(m.left,a.left),a},no(o,s,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ie(o){var t=o.reference,e=o.element,i=o.placement,r=i?R(i):null,n=i?W(i):null,s=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,a;switch(r){case A:a={x:s,y:t.y-e.height};break;case D:a={x:s,y:t.y+t.height};break;case T:a={x:t.x+t.width,y:l};break;case L:a={x:t.x-e.width,y:l};break;default:a={x:t.x,y:t.y}}var c=r?me(r):null;if(c!=null){var m=c==="y"?"height":"width";switch(n){case G:a[c]=a[c]-(t[m]/2-e[m]/2);break;case le:a[c]=a[c]+(t[m]/2-e[m]/2);break;default:}}return a}function Q(o,t){t===void 0&&(t={});var e=t,i=e.placement,r=i===void 0?o.placement:i,n=e.strategy,s=n===void 0?o.strategy:n,l=e.boundary,a=l===void 0?Xt:l,c=e.rootBoundary,m=c===void 0?Xe:c,d=e.elementContext,w=d===void 0?ve:d,f=e.altBoundary,_=f===void 0?!1:f,g=e.padding,v=g===void 0?0:g,C=Oe(typeof v!="number"?v:ke(v,te)),S=w===ve?Qt:ve,M=o.rects.popper,h=o.elements[_?S:w],b=Pt(V(h)?h:h.contextElement||k(o.elements.popper),a,m,s),y=H(o.elements.reference),P=Ie({reference:y,element:M,strategy:"absolute",placement:r}),O=_e(Object.assign({},M,P)),B=w===ve?O:y,E={top:b.top-B.top+C.top,bottom:B.bottom-b.bottom+C.bottom,left:b.left-B.left+C.left,right:B.right-b.right+C.right},I=o.modifiersData.offset;if(w===ve&&I){var K=I[r];Object.keys(E).forEach(function($){var ie=[T,D].indexOf($)>=0?1:-1,re=[A,D].indexOf($)>=0?"y":"x";E[$]+=K[re]*ie})}return E}function At(o,t){t===void 0&&(t={});var e=t,i=e.placement,r=e.boundary,n=e.rootBoundary,s=e.padding,l=e.flipVariations,a=e.allowedAutoPlacements,c=a===void 0?Qe:a,m=W(i),d=m?l?yt:yt.filter(function(_){return W(_)===m}):te,w=d.filter(function(_){return c.indexOf(_)>=0});w.length===0&&(w=d);var f=w.reduce(function(_,g){return _[g]=Q(o,{placement:g,boundary:r,rootBoundary:n,padding:s})[R(g)],_},{});return Object.keys(f).sort(function(_,g){return f[_]-f[g]})}function wi(o){if(R(o)===Ye)return[];var t=ye(o);return[Je(o),t,Je(t)]}function bi(o){var t=o.state,e=o.options,i=o.name;if(!t.modifiersData[i]._skip){for(var r=e.mainAxis,n=r===void 0?!0:r,s=e.altAxis,l=s===void 0?!0:s,a=e.fallbackPlacements,c=e.padding,m=e.boundary,d=e.rootBoundary,w=e.altBoundary,f=e.flipVariations,_=f===void 0?!0:f,g=e.allowedAutoPlacements,v=t.options.placement,C=R(v),S=C===v,M=a||(S||!_?[ye(v)]:wi(v)),h=[v].concat(M).reduce(function(he,ee){return he.concat(R(ee)===Ye?At(t,{placement:ee,boundary:m,rootBoundary:d,padding:c,flipVariations:_,allowedAutoPlacements:g}):ee)},[]),b=t.rects.reference,y=t.rects.popper,P=new Map,O=!0,B=h[0],E=0;E<h.length;E++){var I=h[E],K=R(I),$=W(I)===G,ie=[A,D].indexOf(K)>=0,re=ie?"width":"height",z=Q(t,{placement:I,boundary:m,rootBoundary:d,altBoundary:w,padding:c}),U=ie?$?T:L:$?D:A;b[re]>y[re]&&(U=ye(U));var ze=ye(U),ne=[];if(n&&ne.push(z[K]<=0),l&&ne.push(z[U]<=0,z[ze]<=0),ne.every(function(he){return he})){B=I,O=!1;break}P.set(I,ne)}if(O)for(var Ve=_?3:1,ht=function(ee){var Ne=h.find(function(We){var ae=P.get(We);if(ae)return ae.slice(0,ee).every(function(vt){return vt})});if(Ne)return B=Ne,"break"},De=Ve;De>0;De--){var He=ht(De);if(He==="break")break}t.placement!==B&&(t.modifiersData[i]._skip=!0,t.placement=B,t.reset=!0)}}var ao={name:"flip",enabled:!0,phase:"main",fn:bi,requiresIfExists:["offset"],data:{_skip:!1}};function so(o,t,e){return e===void 0&&(e={x:0,y:0}),{top:o.top-t.height-e.y,right:o.right-t.width+e.x,bottom:o.bottom-t.height+e.y,left:o.left-t.width-e.x}}function lo(o){return[A,T,D,L].some(function(t){return o[t]>=0})}function yi(o){var t=o.state,e=o.name,i=t.rects.reference,r=t.rects.popper,n=t.modifiersData.preventOverflow,s=Q(t,{elementContext:"reference"}),l=Q(t,{altBoundary:!0}),a=so(s,i),c=so(l,r,n),m=lo(a),d=lo(c);t.modifiersData[e]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:m,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":d})}var co={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yi};function _i(o,t,e){var i=R(o),r=[L,A].indexOf(i)>=0?-1:1,n=typeof e=="function"?e(Object.assign({},t,{placement:o})):e,s=n[0],l=n[1];return s=s||0,l=(l||0)*r,[L,T].indexOf(i)>=0?{x:l,y:s}:{x:s,y:l}}function Ci(o){var t=o.state,e=o.options,i=o.name,r=e.offset,n=r===void 0?[0,0]:r,s=Qe.reduce(function(m,d){return m[d]=_i(d,t.rects,n),m},{}),l=s[t.placement],a=l.x,c=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}var po={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ci};function xi(o){var t=o.state,e=o.name;t.modifiersData[e]=Ie({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var mo={name:"popperOffsets",enabled:!0,phase:"read",fn:xi,data:{}};function St(o){return o==="x"?"y":"x"}function Pi(o){var t=o.state,e=o.options,i=o.name,r=e.mainAxis,n=r===void 0?!0:r,s=e.altAxis,l=s===void 0?!1:s,a=e.boundary,c=e.rootBoundary,m=e.altBoundary,d=e.padding,w=e.tether,f=w===void 0?!0:w,_=e.tetherOffset,g=_===void 0?0:_,v=Q(t,{boundary:a,rootBoundary:c,padding:d,altBoundary:m}),C=R(t.placement),S=W(t.placement),M=!S,h=me(C),b=St(h),y=t.modifiersData.popperOffsets,P=t.rects.reference,O=t.rects.popper,B=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,E=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,K={x:0,y:0};if(y){if(n){var $,ie=h==="y"?A:L,re=h==="y"?D:T,z=h==="y"?"height":"width",U=y[h],ze=U+v[ie],ne=U-v[re],Ve=f?-O[z]/2:0,ht=S===G?P[z]:O[z],De=S===G?-O[z]:-P[z],He=t.elements.arrow,he=f&&He?pe(He):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Re(),Ne=ee[ie],We=ee[re],ae=ue(0,P[z],he[z]),vt=M?P[z]/2-Ve-ae-Ne-E.mainAxis:ht-ae-Ne-E.mainAxis,ko=M?-P[z]/2+Ve+ae+We+E.mainAxis:De+ae+We+E.mainAxis,wt=t.elements.arrow&&X(t.elements.arrow),Io=wt?h==="y"?wt.clientTop||0:wt.clientLeft||0:0,Ot=($=I==null?void 0:I[h])!=null?$:0,qo=U+vt-Ot-Io,$o=U+ko-Ot,kt=ue(f?ce(ze,qo):ze,U,f?Y(ne,$o):ne);y[h]=kt,K[h]=kt-U}if(l){var It,jo=h==="x"?A:L,zo=h==="x"?D:T,se=y[b],Ke=b==="y"?"height":"width",qt=se+v[jo],$t=se-v[zo],bt=[A,L].indexOf(C)!==-1,jt=(It=I==null?void 0:I[b])!=null?It:0,zt=bt?qt:se-P[Ke]-O[Ke]-jt+E.altAxis,Vt=bt?se+P[Ke]+O[Ke]-jt-E.altAxis:$t,Ht=f&&bt?eo(zt,se,Vt):ue(f?zt:qt,se,f?Vt:$t);y[b]=Ht,K[b]=Ht-se}t.modifiersData[i]=K}}var uo={name:"preventOverflow",enabled:!0,phase:"main",fn:Pi,requiresIfExists:["offset"]};function Mt(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function Lt(o){return o===x(o)||!N(o)?de(o):Mt(o)}function Ai(o){var t=o.getBoundingClientRect(),e=J(t.width)/o.offsetWidth||1,i=J(t.height)/o.offsetHeight||1;return e!==1||i!==1}function Tt(o,t,e){e===void 0&&(e=!1);var i=N(t),r=N(t)&&Ai(t),n=k(t),s=H(o,r,e),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!e)&&((F(t)!=="body"||ge(n))&&(l=Lt(t)),N(t)?(a=H(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):n&&(a.x=fe(n))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function Si(o){var t=new Map,e=new Set,i=[];o.forEach(function(n){t.set(n.name,n)});function r(n){e.add(n.name);var s=[].concat(n.requires||[],n.requiresIfExists||[]);s.forEach(function(l){if(!e.has(l)){var a=t.get(l);a&&r(a)}}),i.push(n)}return o.forEach(function(n){e.has(n.name)||r(n)}),i}function Et(o){var t=Si(o);return Gt.reduce(function(e,i){return e.concat(t.filter(function(r){return r.phase===i}))},[])}function Dt(o){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(o())})})),t}}function Nt(o){var t=o.reduce(function(e,i){var r=e[i.name];return e[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var fo={placement:"bottom",modifiers:[],strategy:"absolute"};function go(){for(var o=arguments.length,t=new Array(o),e=0;e<o;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ho(o){o===void 0&&(o={});var t=o,e=t.defaultModifiers,i=e===void 0?[]:e,r=t.defaultOptions,n=r===void 0?fo:r;return function(l,a,c){c===void 0&&(c=n);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},fo,n),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},d=[],w=!1,f={state:m,setOptions:function(C){var S=typeof C=="function"?C(m.options):C;g(),m.options=Object.assign({},n,m.options,S),m.scrollParents={reference:V(l)?oe(l):l.contextElement?oe(l.contextElement):[],popper:oe(a)};var M=Et(Nt([].concat(i,m.options.modifiers)));return m.orderedModifiers=M.filter(function(h){return h.enabled}),_(),f.update()},forceUpdate:function(){if(!w){var C=m.elements,S=C.reference,M=C.popper;if(go(S,M)){m.rects={reference:Tt(S,X(M),m.options.strategy==="fixed"),popper:pe(M)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(E){return m.modifiersData[E.name]=Object.assign({},E.data)});for(var h=0;h<m.orderedModifiers.length;h++){if(m.reset===!0){m.reset=!1,h=-1;continue}var b=m.orderedModifiers[h],y=b.fn,P=b.options,O=P===void 0?{}:P,B=b.name;typeof y=="function"&&(m=y({state:m,options:O,name:B,instance:f})||m)}}}},update:Dt(function(){return new Promise(function(v){f.forceUpdate(),v(m)})}),destroy:function(){g(),w=!0}};if(!go(l,a))return f;f.setOptions(c).then(function(v){!w&&c.onFirstUpdate&&c.onFirstUpdate(v)});function _(){m.orderedModifiers.forEach(function(v){var C=v.name,S=v.options,M=S===void 0?{}:S,h=v.effect;if(typeof h=="function"){var b=h({state:m,name:C,instance:f,options:M}),y=function(){};d.push(b||y)}})}function g(){d.forEach(function(v){return v()}),d=[]}return f}}var Mi=[ro,mo,io,Jt,po,ao,uo,to,co],Bt=ho({defaultModifiers:Mi});var Li=(o,t)=>(o%t+t)%t,Ft=class{constructor(t,e,i){this.owner=t,this.containerEl=e,e.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),e.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),i.register([],"ArrowUp",r=>{if(!r.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),i.register([],"ArrowDown",r=>{if(!r.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),i.register([],"Enter",r=>{if(!r.isComposing)return this.useSelectedItem(r),!1})}onSuggestionClick(t,e){t.preventDefault();let i=this.suggestions.indexOf(e);this.setSelectedItem(i,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,e){let i=this.suggestions.indexOf(e);this.setSelectedItem(i,!1)}setSuggestions(t){this.containerEl.empty();let e=[];t.forEach(i=>{let r=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(i,r),e.push(r)}),this.values=t,this.suggestions=e,this.setSelectedItem(0,!1)}useSelectedItem(t){let e=this.values[this.selectedItem];e&&this.owner.selectSuggestion(e,t)}setSelectedItem(t,e){let i=Li(t,this.suggestions.length),r=this.suggestions[this.selectedItem],n=this.suggestions[i];r==null||r.removeClass("is-selected"),n==null||n.addClass("is-selected"),this.selectedItem=i,e&&n.scrollIntoView(!1)}},Ce=class{constructor(t,e){this.app=t;this.inputEl=e;this.scope=new vo.Scope,this.suggestEl=createDiv("suggestion-container");let i=this.suggestEl.createDiv("suggestion");this.suggest=new Ft(this,i,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",r=>{r.preventDefault()})}onInputChanged(){let t=this.inputEl.value,e=this.getSuggestions(t);if(!e){this.close();return}e.length>0?(this.suggest.setSuggestions(e),this.open(this.app.dom.appContainerEl,this.inputEl)):this.close()}open(t,e){this.app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=Bt(e,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:i,instance:r})=>{let n=`${i.rects.reference.width}px`;i.styles.popper.width!==n&&(i.styles.popper.width=n,r.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){this.app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}};var qe=class extends Ce{getSuggestions(t){let e=this.app.vault.getAllLoadedFiles(),i=[],r=t.toLowerCase();return e.forEach(n=>{n instanceof wo.TFile&&n.extension==="md"&&n.path.toLowerCase().contains(r)&&i.push(n)}),i}renderSuggestion(t,e){e.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}};var bo=require("obsidian");var $e=class extends Ce{getSuggestions(t){let e=this.app.vault.getAllLoadedFiles(),i=[],r=t.toLowerCase();return e.forEach(n=>{n instanceof bo.TFolder&&n.path.toLowerCase().contains(r)&&i.push(n)}),i}renderSuggestion(t,e){e.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}};var Rt=class{constructor(){this.fallbackLocale="en";this.locale=this.fallbackLocale,this.translations={}}loadLocale(t,e){this.translations[t]=e}setLocale(t){this.translations[t]||t===this.fallbackLocale?this.locale=t:(console.warn(`Locale ${t} not available, using ${this.fallbackLocale}`),this.locale=this.fallbackLocale)}getLocale(){return this.locale}t(t,e){let i=this.getNestedTranslation(t,this.locale);return i===t&&this.locale!==this.fallbackLocale&&(i=this.getNestedTranslation(t,this.fallbackLocale)),e&&typeof i=="string"&&Object.entries(e).forEach(([r,n])=>{i=i.replace(new RegExp(`{{\\s*${r}\\s*}}`,"g"),n)}),i}getNestedTranslation(t,e){if(!this.translations[e])return t;let i=t.split("."),r=this.translations[e];for(let n of i){if(r[n]===void 0)return t;r=r[n]}return typeof r=="string"?r:t}},Ti=new Rt,p=Ti;var yo="https://github.com/ats4e/obsidian-movie-companion",_o={movie_folder:"",tv_shows_folder:"",movie_template_file:"",tv_shows_template_file:"",collection_template_file:"",collection_folder:"",open_page_on_completion:!0,locale_preference:Ei(),api_key:"",automatic_collection_creation:!0,show_manual_create_collection_button_ribbon:!1,manual_poster_choise:!1};function Ei(){return navigator.language.split("-")[0]||"en"}var et=class extends q.PluginSettingTab{constructor(e,i){super(e,i);this.plugin=i}get settings(){return this.plugin.settings}display(){let{containerEl:e}=this;e.empty(),e.classList.add("movie-companion__settings"),new q.Setting(e).setName(p.t("settings.movies")).setHeading(),new q.Setting(e).setName(p.t("settings.newMovieNoteLocation")).setDesc(p.t("settings.newMovieNoteLocationDescription")).addSearch(a=>{try{new $e(this.app,a.inputEl)}catch(c){}a.setPlaceholder(p.t("settings.folderLocationPlaceholder")).setValue(this.plugin.settings.movie_folder).onChange(c=>{this.plugin.settings.movie_folder=c,this.saveSettings()})});let i=document.createDocumentFragment();i.createDiv({text:p.t("settings.templateFileDescription")}),i.createEl("a",{text:p.t("settings.exampleTemplate"),href:`${yo}#Movie Note Template`}),new q.Setting(e).setName(p.t("settings.movieTemplateFile")).setDesc(i).addSearch(a=>{try{new qe(this.app,a.inputEl)}catch(c){}a.setPlaceholder(p.t("settings.templateFilePlaceholder")).setValue(this.plugin.settings.movie_template_file).onChange(c=>{this.plugin.settings.movie_template_file=c,this.saveSettings()})}),new q.Setting(e).setName(p.t("settings.collections")).setHeading(),new q.Setting(e).setName(p.t("settings.newCollectionNoteLocation")).setDesc(p.t("settings.newCollectionNoteLocationDescription")).addSearch(a=>{try{new $e(this.app,a.inputEl)}catch(c){}a.setPlaceholder(p.t("settings.folderLocationPlaceholder")).setValue(this.plugin.settings.collection_folder).onChange(c=>{this.plugin.settings.collection_folder=c,this.saveSettings()})});let r=document.createDocumentFragment();r.createDiv({text:p.t("settings.templateFileDescription")}),r.createEl("a",{text:p.t("settings.exampleTemplate"),href:`${yo}#Collection Note Template`}),new q.Setting(e).setName(p.t("settings.collectionTemplateFile")).setDesc(r).addSearch(a=>{try{new qe(this.app,a.inputEl)}catch(c){}a.setPlaceholder(p.t("settings.templateFilePlaceholder")).setValue(this.plugin.settings.collection_template_file).onChange(c=>{this.plugin.settings.collection_template_file=c,this.saveSettings()})}),new q.Setting(e).setName(p.t("settings.autoCreateCollectionFlag")).setDesc(p.t("settings.autoCreateCollectionDescription")).addToggle(a=>a.setValue(this.plugin.settings.automatic_collection_creation).onChange(c=>u(this,null,function*(){this.plugin.settings.automatic_collection_creation=c,yield this.saveSettings()})));let n=document.createDocumentFragment();n.createDiv({text:p.t("settings.showCreateCollectionRibbonButtonDescription")}),n.createDiv().createEl("a",{text:p.t("settings.requiresRestart"),href:"#"}).addEventListener("click",()=>{this.app.commands.executeCommandById("app:reload")}),new q.Setting(e).setName(p.t("settings.showCreateCollectionRibbonButton")).setDesc(n).addToggle(a=>a.setValue(this.plugin.settings.show_manual_create_collection_button_ribbon).onChange(c=>u(this,null,function*(){this.plugin.settings.show_manual_create_collection_button_ribbon=c,yield this.saveSettings()}))),new q.Setting(e).setName(p.t("settings.generalSettings")).setHeading(),new q.Setting(e).setName(p.t("settings.preferredLocale")).setDesc(p.t("settings.preferredLocaleDescription")).addDropdown(a=>{window.moment.locales().forEach(c=>{a.addOption(c,c)}),a.setValue(this.settings.locale_preference),a.onChange(c=>u(this,null,function*(){let m=c;this.settings.locale_preference=m,yield this.saveSettings()}))}),new q.Setting(e).setName(p.t("settings.openNoteAfterCreation")).setDesc(p.t("settings.openNoteAfterCreationDescription")).addToggle(a=>a.setValue(this.plugin.settings.open_page_on_completion).onChange(c=>u(this,null,function*(){this.plugin.settings.open_page_on_completion=c,yield this.saveSettings()}))),new q.Setting(e).setName(p.t("settings.selectPoster")).setDesc(p.t("settings.selectPosterDescription")).addToggle(a=>a.setValue(this.plugin.settings.manual_poster_choise).onChange(c=>u(this,null,function*(){this.plugin.settings.manual_poster_choise=c,yield this.saveSettings()})));let l=document.createDocumentFragment();l.createEl("a",{text:p.t("settings.tmdbApiRetrieveApiKey"),href:"https://www.themoviedb.org/settings/api"}),new q.Setting(e).setName(p.t("settings.tmdbApiTitle")).setDesc(l).addText(a=>{a.inputEl.type="password",a.setValue(this.plugin.settings.api_key).onChange(c=>u(this,null,function*(){this.plugin.settings.api_key=c,yield this.saveSettings()}))})}saveSettings(){return u(this,null,function*(){yield this.plugin.saveData(this.settings)})}};var je=require("obsidian"),tt=class extends je.Modal{constructor(e,i,r,n){super(e);this.resolve=null;this.question=i,this.yes_button_text=r,this.no_button_text=n}onOpen(){let{contentEl:e}=this;e.createEl("h2",{text:this.question}),new je.ButtonComponent(e).setButtonText(this.yes_button_text).setCta().setClass("movie-companion__modal-button").onClick(()=>{this.resolve&&this.resolve(!0),this.close()}),new je.ButtonComponent(e).setButtonText(this.no_button_text).setClass("movie-companion__modal-button").onClick(()=>{this.resolve&&this.resolve(!1),this.close()})}waitForResult(){return new Promise(e=>{this.resolve=e})}};var xe=class extends tt{constructor(e,i){super(e,p.t("modals.overwriteFileQuestion"),p.t("modals.yes"),p.t("modals.no"));this.resolve=null}};var Me=require("obsidian");var Co=require("obsidian"),Pe=class extends Co.Modal{constructor(e,i){super(e);this.settings=i;this.isBusy=!1}setBusy(e){var i,r;this.isBusy=e,(i=this.okBtnRef)==null||i.setDisabled(e),(r=this.okBtnRef)==null||r.setButtonText(e?p.t("modals.requesting"):p.t("modals.search"))}};var xo=require("obsidian");var Ae=class{constructor(t,e){this.api_key=t;this.locale_preference=e}add_jwt_or_api_key(t,e){if(this.api_key.length>32){let i=this.api_key.split(" ");e.Authorization=i.length>1?`Bearer ${i[i.length-1]}`:`Bearer ${this.api_key}`}else t.api_key=this.api_key}};function Se(i){return u(this,arguments,function*(o,t={},e){let r=new URL(o);return Object.entries(t).forEach(([s,l])=>{r.searchParams.append(s,l==null?void 0:l.toString())}),(yield(0,xo.requestUrl)({url:r.href,method:"GET",headers:Yt({Accept:"*/*","Content-Type":"application/json; charset=utf-8"},e)})).json})}var ot=class extends Ae{constructor(t,e){super(t,e)}get_collections(t){return u(this,null,function*(){try{let e={page:1,query:t,language:this.locale_preference},i={};this.add_jwt_or_api_key(e,i);let r=yield Se("https://api.themoviedb.org/3/search/collection",e,i);return r!=null&&r.total_results?r.results.map(n=>this.create_collections_search_from_(n)):[]}catch(e){throw console.warn(e),e}})}get_collection_by_id(t){return u(this,null,function*(){try{let e={language:this.locale_preference},i={};this.add_jwt_or_api_key(e,i);let r=yield Se(`https://api.themoviedb.org/3/collection/${t}`,e,i);return this.create_collection_from_(r)}catch(e){throw console.warn(e),e}})}create_collections_search_from_(t){return{id:t.id,name:t.name,overview:t.overview,poster_path:t.poster_path?`https://image.tmdb.org/t/p/original${t.poster_path}`:"",backdrop_path:t.backdrop_path?`https://image.tmdb.org/t/p/original${t.backdrop_path}`:""}}create_collection_from_(t){return{id:t.id,name:t.name,overview:t.overview,poster_path:t.poster_path?`https://image.tmdb.org/t/p/original${t.poster_path}`:"",backdrop_path:t.backdrop_path?`https://image.tmdb.org/t/p/original${t.backdrop_path}`:"",parts:[]}}add_jwt_or_api_key(t,e){if(this.api_key.length>32){let i=this.api_key.split(" ");e.Authorization=i.length>1?`Bearer ${i[i.length-1]}`:`Bearer ${this.api_key}`}else t.api_key=this.api_key}};var it=class extends Ae{constructor(t,e){super(t,e)}getMovies(t){return u(this,null,function*(){try{let e={page:1,query:t,language:this.locale_preference},i={};this.add_jwt_or_api_key(e,i);let r=yield Se("https://api.themoviedb.org/3/search/multi",e,i);return r!=null&&r.total_results?r.results.filter(n=>n.media_type==="movie").map(n=>this.convert_to_movie_light(n)):[]}catch(e){throw console.warn(e),e}})}get_movie_by_id(t,e){return u(this,null,function*(){try{let i={language:this.locale_preference,append_to_response:"videos,credits,images"},r={};this.add_jwt_or_api_key(i,r);let n=yield Se(`https://api.themoviedb.org/3/${this.convert_to_lower_case(e)}/${t}`,i,r);return this.createMovie(n,e)}catch(i){throw console.warn(i),i}})}convert_to_lower_case(t){return t==="Movie"?"movie":"tv"}convert_to_movie_light(t){return{id:t.id,title:t.title||t.name,name:t.title||t.name,release_date:t.release_date||t.first_air_date,original_title:t.original_title||t.original_name,media_type:"Movie",poster_path:t.poster_path?`https://image.tmdb.org/t/p/original${t.poster_path}`:""}}createMovie(t,e){var m;let i=t.genres.map(d=>d.name),r=t.credits.cast.map(d=>`${d.name} (${d.character})`).slice(0,10),n=t.production_companies.map(d=>`${d.name} (${d.origin_country})`),s=t.production_countries.map(d=>`${d.name} (${d.iso_3166_1})`),l=t.spoken_languages.map(d=>`${d.name} (${d.iso_639_1})`),a=t.original_title||t.original_name;return{backdrop_path:t.backdrop_path?`https://image.tmdb.org/t/p/original${t.backdrop_path}`:"",main_actors:r,main_actors_string:r.length>0?r.join(", "):"",media_type:e,director:(m=t.credits.crew.find(d=>d.job==="Director"))==null?void 0:m.name,genres:i,genres_string:i.length>0?i.join(", "):"",homepage:t.homepage,id:t.id,name:t.title||t.name,title:t.title||t.name,imdb_id:t.imdb_id,original_language:t.original_language,original_title:a,overview:t.overview,popularity:t.popularity,poster_path:t.poster_path?`https://image.tmdb.org/t/p/original${t.poster_path}`:"",production_companies:n,production_companies_string:n.length>0?n.join(", "):"",production_countries:s,production_countries_string:s.length>0?s.join(", "):"",release_date:t.release_date||t.first_air_date,spoken_languages:l,spoken_languages_string:l.length>0?l.join(", "):"",tagline:t.tagline?t.tagline:"-",vote_average:t.vote_average,vote_count:t.vote_count,youtube_url:this.get_youtube_url_from_(t.videos.results),collection_id:t.belongs_to_collection?t.belongs_to_collection.id+"":"-",justwatch_id:this.getJustWatchId(a),posters:this.getPosters(t.images)}}getPosters(t){if(!t||!t.posters)return null;var e=t.posters;return e.map(r=>{var n={vote_average:r.vote_average,vote_count:r.vote_count,file_path:`https://image.tmdb.org/t/p/original${r.file_path}`};return n})}get_youtube_url_from_(t){let e=t.filter(i=>i.site==="YouTube");if(e.length){let i=e.find(l=>l.type==="Trailer");if(i)return`https://www.youtube.com/watch?v=${i.key}`;let r=e.find(l=>l.type==="Clip");if(r)return`https://www.youtube.com/watch?v=${r.key}`;let n=e.find(l=>l.type==="Featurette");if(n)return`https://www.youtube.com/watch?v=${n.key}`;let s=e.find(l=>l.type==="Teaser");if(s)return`https://www.youtube.com/watch?v=${s.key}`}return""}getJustWatchId(t){return t.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(/\'/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}};function rt(o){if(!o.api_key)throw new Error("TMDB API key is required!");return new it(o.api_key,o.locale_preference)}function nt(o){if(!o.api_key)throw new Error("TMDB API key is required!");return new ot(o.api_key,o.locale_preference)}var Di="",at=class extends Pe{constructor(e,i,r,n){super(e,i);this.query=r;this.callback=n;this.service_provider=rt(i)}search_movie(){return u(this,null,function*(){if(!this.query)throw new Error(p.t("modals.missingInput"));if(!this.isBusy){try{this.setBusy(!0);let e=yield this.service_provider.getMovies(this.query);if(this.setBusy(!1),!(e!=null&&e.length)){new Me.Notice(p.t("modals.noResultFound"));return}Di=this.query,this.callback(null,e)}catch(e){this.callback(e)}this.close()}})}submitEnterCallback(e){e.key==="Enter"&&!e.isComposing&&this.search_movie()}onOpen(){let{contentEl:e}=this;e.createEl("h2",{text:p.t("modals.searchMovie")}),e.createDiv({cls:"movie-companion__search-modal--input"},i=>{new Me.TextComponent(i).setValue(this.query).setPlaceholder(p.t("modals.searchByKeyword")).onChange(r=>this.query=r).inputEl.addEventListener("keydown",this.submitEnterCallback.bind(this))}),new Me.Setting(e).addButton(i=>this.okBtnRef=i.setButtonText(p.t("modals.search")).setCta().onClick(()=>{this.search_movie()}))}onClose(){this.contentEl.empty()}};var Po=require("obsidian");var st=class extends Po.SuggestModal{constructor(e,i,r){super(e);this.suggestion=i;this.onChoose=r}getSuggestions(e){return this.suggestion.filter(r=>{var s,l,a;let n=e==null?void 0:e.toLowerCase();return((s=r.title)==null?void 0:s.toLowerCase().includes(n))||((l=r.original_title)==null?void 0:l.toLowerCase().includes(n))||((a=r.release_date)==null?void 0:a.toLowerCase().includes(n))}).sort((r,n)=>{let s=new Date(r.release_date),l=new Date(n.release_date);return s.getTime()-l.getTime()})}renderSuggestion(e,i){i.addClass("movie-companion__movie-suggestion-item"),e.poster_path&&i.createEl("img",{cls:"movie-companion__movie-cover-image",attr:{src:e.poster_path,alt:p.t("modals.posterOfThe")+" "+e.title}});let r=i.createEl("div",{cls:"movie-companion__movie-text-info"});r.createEl("div",{text:e.title});let n=e.media_type.toUpperCase(),s=e.release_date?e.release_date:"-",l=e.original_title?e.original_title:"-";r.createEl("small",{text:e.title===l?`${n}: ${s}`:`${n}: ${l} (${s})`})}onChooseSuggestion(e){this.onChoose(null,e)}};var Le=require("obsidian");var lt=class{constructor(t){this.app=t}getRenderedContent(t,e){return u(this,null,function*(){let i="";if(e){let r=yield this.getTemplate(e);console.log(t),i=this.replaceTemplateVariableWithValues(this.applyTemplateTransformations(r),t)}else i=`---
${(0,Le.stringifyYaml)(this.applyDefaultFrontmatter(t))}
---
`;return i})}getTemplate(t){return u(this,null,function*(){let{metadataCache:e,vault:i}=this.app,r=(0,Le.normalizePath)(t!=null?t:"");if(t==="/")return Promise.resolve("");try{let n=e.getFirstLinkpathDest(r,"");return n?i.cachedRead(n):""}catch(n){return console.error(`Failed to read the note template '${r}'`,n),new Le.Notice("Failed to read the note template"),""}})}applyTemplateTransformations(t){return t.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(e,i,r,n,s,l)=>{let a=window.moment(),c=window.moment().clone().set({hour:a.get("hour"),minute:a.get("minute"),second:a.get("second")});return r&&c.add(parseInt(n,10),s),l?c.format(l.substring(1).trim()):c.format("YYYY-MM-DD")})}replaceTemplateVariableWithValues(t,e){return t!=null&&t.trim()?Object.entries(e).reduce((r,[n,s=""])=>{if(Array.isArray(s)){let l=new RegExp(`(.*?)(?:"{{${n}}}"|{{${n}}})`,"g"),a,c=0;for(;(a=l.exec(r))!==null;){let m=a[1],d=a[0].includes('"'),w=s.map((f,_)=>{var g=Ao(f);return g=d?`"${g}"`:`${g}`,`${m}${g}`}).join(`
`);r=r.slice(0,a.index)+w+r.slice(l.lastIndex),c=a.index+w.length}}else s=s||"",s=Ao(s),r=r.replace(new RegExp(`{{${n}}}`,"ig"),s);return r},t).replace(/{{\w+}}/gi,"").trim():""}applyDefaultFrontmatter(t){return Ni(t)}};function Ni(o){return Object.entries(o).reduce((t,[e,i])=>(t[Bi(e)]=i,t),{})}function Bi(o){return o.replace(/[A-Z]/g,t=>`_${t==null?void 0:t.toLowerCase()}`)}function Ao(o){if(o)return(o+"").replace(/\"/g,"")}var Te=class{constructor(t,e,i){this.app=t;this.settings=e;this.show_notice=i;this.templateService=new lt(t)}getFilePath(t,e){return u(this,null,function*(){let i=Ri(t);return yield this.createFolder(e),`${e}/${i}`})}createFolder(t){return u(this,null,function*(){if(t)try{this.app.vault.getFolderByPath(t)||(yield this.app.vault.createFolder(t))}catch(e){console.warn(e)}})}openBoolModal(t,...e){return u(this,null,function*(){return new Promise((i,r)=>{let n=new t(this.app,...e);n.open(),n.waitForResult().then(s=>{i(s)}).catch(s=>{r(s)})})})}openNote(t){return u(this,null,function*(){let e=this.app.workspace.getLeaf();if(!e){console.warn("No active leaf");return}yield e.openFile(t,{state:{mode:"source"}}),e.setEphemeralState({rename:"all"})})}};function Fi(o){return o.replace(/[\\*<>":?]/g,"").replace(/\s+/g," ").replace(/^\.+/,"")}function Ri(o){return`${Fi(o.name)}.md`}var So=require("obsidian");var ct=class extends So.Modal{constructor(e,i,r){super(e);this.currentIndex=0;this.imageElements=[];this.handleKeyDown=e=>{if(e.key==="ArrowDown"||e.key==="ArrowRight")e.preventDefault(),this.currentIndex=(this.currentIndex+1)%this.imageElements.length,this.updateSelection(),this.imageElements[this.currentIndex].focus();else if(e.key==="ArrowUp"||e.key==="ArrowLeft")e.preventDefault(),this.currentIndex=(this.currentIndex-1+this.imageElements.length)%this.imageElements.length,this.updateSelection(),this.imageElements[this.currentIndex].focus();else if(e.key==="Enter"){let i=this.suggestions[this.currentIndex];this.onChoose(null,i),this.close()}};this.suggestions=i,this.onChoose=r}onOpen(){let{contentEl:e}=this;e.createEl("h2",{text:p.t("modals.selectPoster")});let i=e.createEl("div",{cls:"movie-companion__image-container"});this.suggestions.forEach((r,n)=>{let s=i.createEl("img",{attr:{src:r,alt:p.t("modals.aPoster"),tabindex:"0"},cls:"movie-companion__movie-suggestion-cover-image"});this.imageElements.push(s),s.addEventListener("click",()=>{this.onChoose(null,r),this.close()}),s.addEventListener("focus",()=>{this.currentIndex=n,this.updateSelection()})}),this.modalEl.addEventListener("keydown",this.handleKeyDown)}onClose(){this.modalEl.removeEventListener("keydown",this.handleKeyDown);let{contentEl:e}=this;e.empty()}updateSelection(){this.imageElements.forEach((e,i)=>{i===this.currentIndex?e.classList.add("selected"):e.classList.remove("selected")})}};var pt=class extends Te{constructor(e,i,r,n){super(e,i,r);this.app=e;this.settings=i;this.show_notice=r;this.movie_note_created=n}createNewMovieNote(){return u(this,null,function*(){if(!this.settings.api_key){this.show_notice(p.t("errors.invalidTmdbApiKey"));return}try{let r=yield this.findMovie(),n=yield this.getFilePath(r,this.settings.movie_folder);var e=this.app.vault.getFileByPath(n),i=!0;if(e){let s=yield this.openBoolModal(xe,e.name);i=s,s&&(yield this.app.vault.delete(e))}if(i){let s=yield this.templateService.getRenderedContent(r,this.settings.movie_template_file);e=yield this.app.vault.create(n,s)}this.movie_note_created(r),this.settings.open_page_on_completion&&this.openNote(e)}catch(r){console.warn(r),this.show_notice(r)}})}findMovie(e){return u(this,null,function*(){let i=yield this.openMovieSearchModal(e);var r=i[0];i.length>1&&(r=yield this.openMovieSuggestModal(i));let n=yield this.getCompleteMovieData(r);if(this.settings.manual_poster_choise&&n.posters&&n.posters.length>1){let s=yield this.openSelectPosterModal(n.posters);n.poster_path=s}return n})}getCompleteMovieData(e){return u(this,null,function*(){return yield rt(this.settings).get_movie_by_id(e.id,e.media_type)})}openMovieSearchModal(e=""){return u(this,null,function*(){return new Promise((i,r)=>new at(this.app,this.settings,e,(n,s)=>n?r(n):i(s)).open())})}openMovieSuggestModal(e){return u(this,null,function*(){return new Promise((i,r)=>new st(this.app,e,(n,s)=>n?r(n):i(s)).open())})}openSelectPosterModal(e){return u(this,null,function*(){let i=e.map(r=>r.file_path);return new Promise((r,n)=>new ct(this.app,i,(s,l)=>s?n(s):r(l)).open())})}};var Mo=require("obsidian");var mt=class extends Mo.SuggestModal{constructor(e,i,r){super(e);this.suggestion=i;this.onChoose=r}getSuggestions(e){return this.suggestion.filter(i=>{var n;let r=e==null?void 0:e.toLowerCase();return(n=i.name)==null?void 0:n.toLowerCase().includes(r)})}renderSuggestion(e,i){i.addClass("movie-companion__movie-suggestion-item"),e.poster_path&&i.createEl("img",{cls:"movie-companion__movie-cover-image",attr:{src:e.poster_path,alt:p.t("modals.posterOfThe")+" "+e.name}}),i.createEl("div",{cls:"movie-companion__movie-text-info"}).createEl("div",{text:e.name})}onChooseSuggestion(e){this.onChoose(null,e)}};var Ee=require("obsidian");var Oi="",ut=class extends Pe{constructor(e,i,r,n){super(e,i);this.query=r;this.callback=n;this.service_provider=nt(i)}search_collection(){return u(this,null,function*(){if(!this.query)throw new Error(p.t("modals.missingInput"));if(!this.isBusy){try{this.setBusy(!0);let e=yield this.service_provider.get_collections(this.query);if(this.setBusy(!1),!(e!=null&&e.length)){new Ee.Notice(p.t("modals.noResultFound"));return}Oi=this.query,this.callback(null,e)}catch(e){this.callback(e)}this.close()}})}submitEnterCallback(e){e.key==="Enter"&&!e.isComposing&&this.search_collection()}onOpen(){let{contentEl:e}=this;e.createEl("h2",{text:p.t("modals.searchCollection")}),e.createDiv({cls:"movie-companion__search-modal--input"},i=>{new Ee.TextComponent(i).setValue(this.query).setPlaceholder(p.t("modals.searchByKeyword")).onChange(r=>this.query=r).inputEl.addEventListener("keydown",this.submitEnterCallback.bind(this))}),new Ee.Setting(e).addButton(i=>this.okBtnRef=i.setButtonText(p.t("modals.search")).setCta().onClick(()=>{this.search_collection()}))}onClose(){this.contentEl.empty()}};var dt=class extends Te{constructor(e,i,r){super(e,i,r);this.app=e;this.settings=i;this.show_notice=r}searchAndCreateCollectionNote(){return u(this,null,function*(){if(!this.settings.api_key){this.show_notice(p.t("errors.invalidTmdbApiKey"));return}try{let e=yield this.findCollection();this.createNewCollectioNote(e,!0)}catch(e){console.warn(e),this.show_notice(e)}})}createNewCollectioNote(e,i){return u(this,null,function*(){if(!this.settings.api_key){this.show_notice(p.t("errors.invalidTmdbApiKey"));return}try{let s=yield this.getFilePath(e,this.settings.collection_folder);var r=this.app.vault.getFileByPath(s),n=!0;if(r){let l=yield this.openBoolModal(xe,r.name);n=l,l&&(yield this.app.vault.delete(r))}if(n){let l=yield this.templateService.getRenderedContent(e,this.settings.collection_template_file);r=yield this.app.vault.create(s,l)}i&&this.settings.open_page_on_completion&&this.openNote(r)}catch(s){console.warn(s),this.show_notice(s)}})}getCollectionSearchData(e){return u(this,null,function*(){let i=this.settings.locale_preference,r=yield this.openCollectionSearchModal(e,i);return r.length==1?r[0]:yield this.openCollectionSuggestModal(r)})}findCollection(e){return u(this,null,function*(){let i=this.settings.locale_preference,r=yield this.openCollectionSearchModal(e,i);var n=r[0];return r.length>1&&(n=yield this.openCollectionSuggestModal(r)),this.getCollectionById(n.id)})}getCollectionById(e){return u(this,null,function*(){return nt(this.settings).get_collection_by_id(e)})}openCollectionSearchModal(e="",i){return u(this,null,function*(){return new Promise((r,n)=>new ut(this.app,this.settings,e,(s,l)=>s?n(s):r(l)).open())})}openCollectionSuggestModal(e){return u(this,null,function*(){return new Promise((i,r)=>new mt(this.app,e,(n,s)=>n?r(n):i(s)).open())})}};var Lo={modals:{requesting:"Requesting...",search:"Search",searchCollection:"Search Collection",searchMovie:"Search Movie",searchByKeyword:"Search by keyword",posterOfThe:"Poster of the",yes:"Yes",no:"No",overwriteFileQuestion:"File already exists. Do you want to overwrite it?",missingInput:"No query entered?",noResultFound:"No results found",selectPoster:"Select Poster",aPoster:"A poster"},settings:{movies:"Movies",collections:"Collections",newMovieNoteLocation:"New movie file location",newMovieNoteLocationDescription:"New movie notes will be placed here.",folderLocationPlaceholder:"Example: folder1/folder2",movieTemplateFile:"Movie template file",templateFileDescription:"Files will be available as templates",templateFilePlaceholder:"Example: templates/template-file.md",newCollectionNoteLocation:"New movie collection file location",newCollectionNoteLocationDescription:"New collection notes will be placed here.",collectionTemplateFile:"Collection template file",autoCreateCollectionFlag:"Automatic collection creation",autoCreateCollectionDescription:"Enable or disable the automatic creation of a collection note if a movie belongs to the collection",showCreateCollectionRibbonButton:"Add Ribbon Button for Manual Collection Creation",showCreateCollectionRibbonButtonDescription:"Enable or disable the ribbon button for manual collection creation",generalSettings:"General Settings",preferredLocale:"Preferred locale",preferredLocaleDescription:"Sets the preferred locale to use when searching for movies or tv shows",openNoteAfterCreation:"Open new Movie or Tv Show note",openNoteAfterCreationDescription:"Enable or disable the automatic opening of the note on creation",selectPoster:"Manual poster selection",selectPosterDescription:"Permits to select the poster image if more then one exists. If disabled, the default will be used",tmdbApiTitle:"TMDB API key",tmdbApiRetrieveApiKey:"Login and get your API Key here",requiresRestart:"Requires plugin restart",exampleTemplate:"Example template"},commands:{createMovieNote:"Create new Movie Note",createCollectionNote:"Create new Collection Note"},errors:{invalidTmdbApiKey:"Error: TMDB API key is not specified",noLocaleFound:"Error: Locale preference is not specified"}};var To={modals:{requesting:"Richiesta in corso...",search:"Ricerca",searchCollection:"Cerca Collezione",searchMovie:"Cerca Film",searchByKeyword:"Cerca per parola chiave",posterOfThe:"Poster del",yes:"S\xEC",no:"No",overwriteFileQuestion:"Il file esiste gi\xE0. Vuoi sovrascriverlo?",missingInput:"Nessuna query inserita?",noResultFound:"Nessun risultato trovato",selectPoster:"Seleziona Poster",aPoster:"Un poster"},settings:{movies:"Film",collections:"Collezioni",newMovieNoteLocation:"Posizione del nuovo file del film",newMovieNoteLocationDescription:"Le nuove note dei film saranno collocate qui.",folderLocationPlaceholder:"Esempio: cartella1/cartella2",movieTemplateFile:"File modello del film",templateFileDescription:"I file saranno disponibili come modelli",templateFilePlaceholder:"Esempio: modelli/file-modello.md",newCollectionNoteLocation:"Posizione del nuovo file della collezione di film",newCollectionNoteLocationDescription:"Le nuove note delle collezioni saranno collocate qui.",collectionTemplateFile:"File modello della collezione",autoCreateCollectionFlag:"Creazione automatica della collezione",autoCreateCollectionDescription:"Abilita o disabilita la creazione automatica di una nota di collezione se un film appartiene alla collezione",showCreateCollectionRibbonButton:"Aggiungi pulsante Ribbon per la creazione manuale della collezione",showCreateCollectionRibbonButtonDescription:"Abilita o disabilita il pulsante Ribbon per la creazione manuale della collezione",generalSettings:"Impostazioni generali",preferredLocale:"Lingua preferita",preferredLocaleDescription:"Imposta la lingua preferita da utilizzare quando si cercano film o serie TV",openNoteAfterCreation:"Apri nuova nota di Film o Serie TV",openNoteAfterCreationDescription:"Abilita o disabilita l'apertura automatica della nota alla creazione",selectPoster:"Selezione manuale del poster",selectPosterDescription:"Permette di selezionare l'immagine del poster se ne esistono pi\xF9 di una. Se disabilitato, verr\xE0 utilizzato il predefinito",tmdbApiTitle:"Chiave API TMDB",tmdbApiRetrieveApiKey:"Accedi e ottieni la tua chiave API qui",requiresRestart:"Richiede il riavvio del plugin",exampleTemplate:"Template di esempio"},commands:{createMovieNote:"Crea nuova Nota del Film",createCollectionNote:"Crea nuova Nota della Collezione"},errors:{invalidTmdbApiKey:"Errore: Chiave API TMDB non specificata",noLocaleFound:"Errore: Preferenza della lingua non specificata"}};var Eo={modals:{requesting:"Anfrage wird gesendet...",search:"Suchen",searchCollection:"Sammlung durchsuchen",searchMovie:"Film suchen",searchByKeyword:"Nach Schl\xFCsselwort suchen",posterOfThe:"Poster des",yes:"Ja",no:"Nein",overwriteFileQuestion:"Datei existiert bereits. M\xF6chten Sie sie \xFCberschreiben?",missingInput:"Keine Suchanfrage eingegeben?",noResultFound:"Keine Ergebnisse gefunden",selectPoster:"Poster ausw\xE4hlen",aPoster:"Ein Poster"},settings:{movies:"Filme",collections:"Sammlungen",newMovieNoteLocation:"Speicherort f\xFCr neue Film-Notizen",newMovieNoteLocationDescription:"Neue Film-Notizen werden hier abgelegt.",folderLocationPlaceholder:"Beispiel: Ordner1/Ordner2",movieTemplateFile:"Film-Vorlagendatei",templateFileDescription:"Dateien werden als Vorlagen verf\xFCgbar sein",templateFilePlaceholder:"Beispiel: vorlagen/vorlage-datei.md",newCollectionNoteLocation:"Speicherort f\xFCr neue Sammlungs-Notizen",newCollectionNoteLocationDescription:"Neue Sammlungs-Notizen werden hier abgelegt.",collectionTemplateFile:"Sammlungs-Vorlagendatei",autoCreateCollectionFlag:"Automatische Sammlungserstellung",autoCreateCollectionDescription:"Aktivieren oder deaktivieren der automatischen Erstellung einer Sammlungs-Notiz, wenn ein Film zu einer Sammlung geh\xF6rt",showCreateCollectionRibbonButton:"Men\xFCband-Schaltfl\xE4che f\xFCr manuelle Sammlungserstellung hinzuf\xFCgen",showCreateCollectionRibbonButtonDescription:"Aktivieren oder deaktivieren der Men\xFCband-Schaltfl\xE4che f\xFCr die manuelle Sammlungserstellung",generalSettings:"Allgemeine Einstellungen",preferredLocale:"Bevorzugte Sprache",preferredLocaleDescription:"Legt die bevorzugte Sprache f\xFCr die Suche nach Filmen oder TV-Sendungen fest",openNoteAfterCreation:"Neue Film- oder TV-Sendungs-Notiz \xF6ffnen",openNoteAfterCreationDescription:"Aktivieren oder deaktivieren des automatischen \xD6ffnens der Notiz bei der Erstellung",selectPoster:"Manuelle Posterauswahl",selectPosterDescription:"Erm\xF6glicht die Auswahl des Posterbildes, wenn mehr als eines existiert. Wenn deaktiviert, wird der Standard verwendet",tmdbApiTitle:"TMDB API-Schl\xFCssel",tmdbApiRetrieveApiKey:"Melden Sie sich an und holen Sie Ihren API-Schl\xFCssel hier",requiresRestart:"Erfordert Neustart des Plugins",exampleTemplate:"Beispielvorlage"},commands:{createMovieNote:"Neue Film-Notiz erstellen",createCollectionNote:"Neue Sammlungs-Notiz erstellen"},errors:{invalidTmdbApiKey:"Fehler: TMDB API-Schl\xFCssel ist nicht angegeben",noLocaleFound:"Fehler: Spracheinstellung ist nicht angegeben"}};var Do={modals:{requesting:"Demande en cours...",search:"Rechercher",searchCollection:"Rechercher une collection",searchMovie:"Rechercher un film",searchByKeyword:"Rechercher par mot-cl\xE9",posterOfThe:"Affiche du",yes:"Oui",no:"Non",overwriteFileQuestion:"Le fichier existe d\xE9j\xE0. Voulez-vous l'\xE9craser ?",missingInput:"Aucune requ\xEAte saisie ?",noResultFound:"Aucun r\xE9sultat trouv\xE9",selectPoster:"S\xE9lectionner l'affiche",aPoster:"Une affiche"},settings:{movies:"Films",collections:"Collections",newMovieNoteLocation:"Emplacement des nouvelles notes de film",newMovieNoteLocationDescription:"Les nouvelles notes de film seront plac\xE9es ici.",folderLocationPlaceholder:"Exemple: dossier1/dossier2",movieTemplateFile:"Fichier mod\xE8le de film",templateFileDescription:"Les fichiers seront disponibles comme mod\xE8les",templateFilePlaceholder:"Exemple: modeles/fichier-modele.md",newCollectionNoteLocation:"Emplacement des nouvelles notes de collection",newCollectionNoteLocationDescription:"Les nouvelles notes de collection seront plac\xE9es ici.",collectionTemplateFile:"Fichier mod\xE8le de collection",autoCreateCollectionFlag:"Cr\xE9ation automatique de collection",autoCreateCollectionDescription:"Activer ou d\xE9sactiver la cr\xE9ation automatique d'une note de collection si un film appartient \xE0 la collection",showCreateCollectionRibbonButton:"Ajouter un bouton au ruban pour la cr\xE9ation manuelle de collection",showCreateCollectionRibbonButtonDescription:"Activer ou d\xE9sactiver le bouton du ruban pour la cr\xE9ation manuelle de collection",generalSettings:"Param\xE8tres g\xE9n\xE9raux",preferredLocale:"Langue pr\xE9f\xE9r\xE9e",preferredLocaleDescription:"D\xE9finit la langue pr\xE9f\xE9r\xE9e \xE0 utiliser lors de la recherche de films ou d'\xE9missions de t\xE9l\xE9vision",openNoteAfterCreation:"Ouvrir la nouvelle note de film ou d'\xE9mission TV",openNoteAfterCreationDescription:"Activer ou d\xE9sactiver l'ouverture automatique de la note \xE0 sa cr\xE9ation",selectPoster:"S\xE9lection manuelle d'affiche",selectPosterDescription:"Permet de s\xE9lectionner l'image de l'affiche si plus d'une existe. Si d\xE9sactiv\xE9, l'affiche par d\xE9faut sera utilis\xE9e",tmdbApiTitle:"Cl\xE9 API TMDB",tmdbApiRetrieveApiKey:"Connectez-vous et obtenez votre cl\xE9 API ici",requiresRestart:"N\xE9cessite un red\xE9marrage du plugin",exampleTemplate:"Exemple de mod\xE8le"},commands:{createMovieNote:"Cr\xE9er une nouvelle note de film",createCollectionNote:"Cr\xE9er une nouvelle note de collection"},errors:{invalidTmdbApiKey:"Erreur: La cl\xE9 API TMDB n'est pas sp\xE9cifi\xE9e",noLocaleFound:"Erreur: La pr\xE9f\xE9rence de langue n'est pas sp\xE9cifi\xE9e"}};var No={modals:{requesting:"Solicitando...",search:"Buscar",searchCollection:"Buscar colecci\xF3n",searchMovie:"Buscar pel\xEDcula",searchByKeyword:"Buscar por palabra clave",posterOfThe:"P\xF3ster de la",yes:"S\xED",no:"No",overwriteFileQuestion:"El archivo ya existe. \xBFDesea sobrescribirlo?",missingInput:"\xBFNo se ha introducido ninguna consulta?",noResultFound:"No se encontraron resultados",selectPoster:"Seleccionar p\xF3ster",aPoster:"Un p\xF3ster"},settings:{movies:"Pel\xEDculas",collections:"Colecciones",newMovieNoteLocation:"Ubicaci\xF3n de nuevas notas de pel\xEDculas",newMovieNoteLocationDescription:"Las nuevas notas de pel\xEDculas se colocar\xE1n aqu\xED.",folderLocationPlaceholder:"Ejemplo: carpeta1/carpeta2",movieTemplateFile:"Archivo de plantilla de pel\xEDcula",templateFileDescription:"Los archivos estar\xE1n disponibles como plantillas",templateFilePlaceholder:"Ejemplo: plantillas/archivo-plantilla.md",newCollectionNoteLocation:"Ubicaci\xF3n de nuevas notas de colecci\xF3n",newCollectionNoteLocationDescription:"Las nuevas notas de colecci\xF3n se colocar\xE1n aqu\xED.",collectionTemplateFile:"Archivo de plantilla de colecci\xF3n",autoCreateCollectionFlag:"Creaci\xF3n autom\xE1tica de colecci\xF3n",autoCreateCollectionDescription:"Activar o desactivar la creaci\xF3n autom\xE1tica de una nota de colecci\xF3n si una pel\xEDcula pertenece a la colecci\xF3n",showCreateCollectionRibbonButton:"A\xF1adir bot\xF3n de cinta para creaci\xF3n manual de colecci\xF3n",showCreateCollectionRibbonButtonDescription:"Activar o desactivar el bot\xF3n de cinta para la creaci\xF3n manual de colecci\xF3n",generalSettings:"Configuraci\xF3n general",preferredLocale:"Idioma preferido",preferredLocaleDescription:"Establece el idioma preferido para usar al buscar pel\xEDculas o programas de televisi\xF3n",openNoteAfterCreation:"Abrir nueva nota de pel\xEDcula o programa de TV",openNoteAfterCreationDescription:"Activar o desactivar la apertura autom\xE1tica de la nota al crearla",selectPoster:"Selecci\xF3n manual de p\xF3ster",selectPosterDescription:"Permite seleccionar la imagen del p\xF3ster si existe m\xE1s de una. Si est\xE1 desactivado, se utilizar\xE1 el predeterminado",tmdbApiTitle:"Clave API de TMDB",tmdbApiRetrieveApiKey:"Inicie sesi\xF3n y obtenga su clave API aqu\xED",requiresRestart:"Requiere reiniciar el plugin",exampleTemplate:"Plantilla de ejemplo"},commands:{createMovieNote:"Crear nueva nota de pel\xEDcula",createCollectionNote:"Crear nueva nota de colecci\xF3n"},errors:{invalidTmdbApiKey:"Error: La clave API de TMDB no est\xE1 especificada",noLocaleFound:"Error: La preferencia de idioma no est\xE1 especificada"}};var Bo={modals:{requesting:"Solicitando...",search:"Pesquisar",searchCollection:"Pesquisar cole\xE7\xE3o",searchMovie:"Pesquisar filme",searchByKeyword:"Pesquisar por palavra-chave",posterOfThe:"Cartaz do",yes:"Sim",no:"N\xE3o",overwriteFileQuestion:"O arquivo j\xE1 existe. Deseja sobrescrev\xEA-lo?",missingInput:"Nenhuma consulta inserida?",noResultFound:"Nenhum resultado encontrado",selectPoster:"Selecionar cartaz",aPoster:"Um cartaz"},settings:{movies:"Filmes",collections:"Cole\xE7\xF5es",newMovieNoteLocation:"Localiza\xE7\xE3o de novas anota\xE7\xF5es de filme",newMovieNoteLocationDescription:"Novas anota\xE7\xF5es de filme ser\xE3o colocadas aqui.",folderLocationPlaceholder:"Exemplo: pasta1/pasta2",movieTemplateFile:"Arquivo de modelo de filme",templateFileDescription:"Arquivos estar\xE3o dispon\xEDveis como modelos",templateFilePlaceholder:"Exemplo: modelos/arquivo-modelo.md",newCollectionNoteLocation:"Localiza\xE7\xE3o de novas anota\xE7\xF5es de cole\xE7\xE3o",newCollectionNoteLocationDescription:"Novas anota\xE7\xF5es de cole\xE7\xE3o ser\xE3o colocadas aqui.",collectionTemplateFile:"Arquivo de modelo de cole\xE7\xE3o",autoCreateCollectionFlag:"Cria\xE7\xE3o autom\xE1tica de cole\xE7\xE3o",autoCreateCollectionDescription:"Ativar ou desativar a cria\xE7\xE3o autom\xE1tica de uma anota\xE7\xE3o de cole\xE7\xE3o se um filme pertencer \xE0 cole\xE7\xE3o",showCreateCollectionRibbonButton:"Adicionar bot\xE3o de faixa para cria\xE7\xE3o manual de cole\xE7\xE3o",showCreateCollectionRibbonButtonDescription:"Ativar ou desativar o bot\xE3o de faixa para cria\xE7\xE3o manual de cole\xE7\xE3o",generalSettings:"Configura\xE7\xF5es gerais",preferredLocale:"Idioma preferido",preferredLocaleDescription:"Define o idioma preferido para usar ao pesquisar filmes ou programas de TV",openNoteAfterCreation:"Abrir nova anota\xE7\xE3o de filme ou programa de TV",openNoteAfterCreationDescription:"Ativar ou desativar a abertura autom\xE1tica da anota\xE7\xE3o na cria\xE7\xE3o",selectPoster:"Sele\xE7\xE3o manual de cartaz",selectPosterDescription:"Permite selecionar a imagem do cartaz se existir mais de uma. Se desativado, o padr\xE3o ser\xE1 usado",tmdbApiTitle:"Chave API TMDB",tmdbApiRetrieveApiKey:"Fa\xE7a login e obtenha sua chave API aqui",requiresRestart:"Requer reinicializa\xE7\xE3o do plugin",exampleTemplate:"Exemplo de modelo"},commands:{createMovieNote:"Criar nova anota\xE7\xE3o de filme",createCollectionNote:"Criar nova anota\xE7\xE3o de cole\xE7\xE3o"},errors:{invalidTmdbApiKey:"Erro: A chave API TMDB n\xE3o est\xE1 especificada",noLocaleFound:"Erro: A prefer\xEAncia de idioma n\xE3o est\xE1 especificada"}};var Fo={modals:{requesting:"\u0417\u0430\u043F\u0440\u043E\u0441...",search:"\u041F\u043E\u0438\u0441\u043A",searchCollection:"\u041F\u043E\u0438\u0441\u043A \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438",searchMovie:"\u041F\u043E\u0438\u0441\u043A \u0444\u0438\u043B\u044C\u043C\u0430",searchByKeyword:"\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u043A\u043B\u044E\u0447\u0435\u0432\u043E\u043C\u0443 \u0441\u043B\u043E\u0432\u0443",posterOfThe:"\u041F\u043E\u0441\u0442\u0435\u0440",yes:"\u0414\u0430",no:"\u041D\u0435\u0442",overwriteFileQuestion:"\u0424\u0430\u0439\u043B \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442. \u0425\u043E\u0442\u0438\u0442\u0435 \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0438\u0441\u0430\u0442\u044C \u0435\u0433\u043E?",missingInput:"\u041D\u0435 \u0432\u0432\u0435\u0434\u0435\u043D \u0437\u0430\u043F\u0440\u043E\u0441?",noResultFound:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B",selectPoster:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u043F\u043E\u0441\u0442\u0435\u0440",aPoster:"\u041F\u043E\u0441\u0442\u0435\u0440"},settings:{movies:"\u0424\u0438\u043B\u044C\u043C\u044B",collections:"\u041A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438",newMovieNoteLocation:"\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u043E\u0432\u044B\u0445 \u0437\u0430\u043C\u0435\u0442\u043E\u043A \u043E \u0444\u0438\u043B\u044C\u043C\u0430\u0445",newMovieNoteLocationDescription:"\u041D\u043E\u0432\u044B\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438 \u043E \u0444\u0438\u043B\u044C\u043C\u0430\u0445 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043C\u0435\u0449\u0435\u043D\u044B \u0437\u0434\u0435\u0441\u044C.",folderLocationPlaceholder:"\u041F\u0440\u0438\u043C\u0435\u0440: \u043F\u0430\u043F\u043A\u04301/\u043F\u0430\u043F\u043A\u04302",movieTemplateFile:"\u0424\u0430\u0439\u043B \u0448\u0430\u0431\u043B\u043E\u043D\u0430 \u0444\u0438\u043B\u044C\u043C\u0430",templateFileDescription:"\u0424\u0430\u0439\u043B\u044B \u0431\u0443\u0434\u0443\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u043A\u0430\u043A \u0448\u0430\u0431\u043B\u043E\u043D\u044B",templateFilePlaceholder:"\u041F\u0440\u0438\u043C\u0435\u0440: \u0448\u0430\u0431\u043B\u043E\u043D\u044B/\u0444\u0430\u0439\u043B-\u0448\u0430\u0431\u043B\u043E\u043D.md",newCollectionNoteLocation:"\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u043E\u0432\u044B\u0445 \u0437\u0430\u043C\u0435\u0442\u043E\u043A \u043E \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u044F\u0445",newCollectionNoteLocationDescription:"\u041D\u043E\u0432\u044B\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438 \u043E \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u044F\u0445 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043C\u0435\u0449\u0435\u043D\u044B \u0437\u0434\u0435\u0441\u044C.",collectionTemplateFile:"\u0424\u0430\u0439\u043B \u0448\u0430\u0431\u043B\u043E\u043D\u0430 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438",autoCreateCollectionFlag:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438",autoCreateCollectionDescription:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0438\u043B\u0438 \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438 \u043E \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438, \u0435\u0441\u043B\u0438 \u0444\u0438\u043B\u044C\u043C \u043F\u0440\u0438\u043D\u0430\u0434\u043B\u0435\u0436\u0438\u0442 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438",showCreateCollectionRibbonButton:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u043D\u043E\u043F\u043A\u0443 \u043D\u0430 \u043F\u0430\u043D\u0435\u043B\u044C \u0434\u043B\u044F \u0440\u0443\u0447\u043D\u043E\u0433\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438",showCreateCollectionRibbonButtonDescription:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0438\u043B\u0438 \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043A\u043D\u043E\u043F\u043A\u0443 \u043D\u0430 \u043F\u0430\u043D\u0435\u043B\u0438 \u0434\u043B\u044F \u0440\u0443\u0447\u043D\u043E\u0433\u043E \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438",generalSettings:"\u041E\u0431\u0449\u0438\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",preferredLocale:"\u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u044F\u0437\u044B\u043A",preferredLocaleDescription:"\u0423\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0435\u0442 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u044F\u0437\u044B\u043A \u0434\u043B\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435 \u0444\u0438\u043B\u044C\u043C\u043E\u0432 \u0438\u043B\u0438 \u0442\u0435\u043B\u0435\u0448\u043E\u0443",openNoteAfterCreation:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043D\u043E\u0432\u0443\u044E \u0437\u0430\u043C\u0435\u0442\u043A\u0443 \u043E \u0444\u0438\u043B\u044C\u043C\u0435 \u0438\u043B\u0438 \u0442\u0435\u043B\u0435\u0448\u043E\u0443",openNoteAfterCreationDescription:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0438\u043B\u0438 \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043E\u0442\u043A\u0440\u044B\u0442\u0438\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438 \u043F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438",selectPoster:"\u0420\u0443\u0447\u043D\u043E\u0439 \u0432\u044B\u0431\u043E\u0440 \u043F\u043E\u0441\u0442\u0435\u0440\u0430",selectPosterDescription:"\u041F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0435\u0440\u0430, \u0435\u0441\u043B\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0431\u043E\u043B\u0435\u0435 \u043E\u0434\u043D\u043E\u0433\u043E. \u0415\u0441\u043B\u0438 \u043E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u043E, \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",tmdbApiTitle:"\u041A\u043B\u044E\u0447 API TMDB",tmdbApiRetrieveApiKey:"\u0412\u043E\u0439\u0434\u0438\u0442\u0435 \u0438 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u0441\u0432\u043E\u0439 \u043A\u043B\u044E\u0447 API \u0437\u0434\u0435\u0441\u044C",requiresRestart:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u043A \u043F\u043B\u0430\u0433\u0438\u043D\u0430",exampleTemplate:"\u041F\u0440\u0438\u043C\u0435\u0440 \u0448\u0430\u0431\u043B\u043E\u043D\u0430"},commands:{createMovieNote:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u0443\u044E \u0437\u0430\u043C\u0435\u0442\u043A\u0443 \u043E \u0444\u0438\u043B\u044C\u043C\u0435",createCollectionNote:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u0443\u044E \u0437\u0430\u043C\u0435\u0442\u043A\u0443 \u043E \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438"},errors:{invalidTmdbApiKey:"\u041E\u0448\u0438\u0431\u043A\u0430: \u041A\u043B\u044E\u0447 API TMDB \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D",noLocaleFound:"\u041E\u0448\u0438\u0431\u043A\u0430: \u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u0435 \u044F\u0437\u044B\u043A\u0430 \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E"}};var Ro={modals:{requesting:"\u8BF7\u6C42\u4E2D...",search:"\u641C\u7D22",searchCollection:"\u641C\u7D22\u5408\u96C6",searchMovie:"\u641C\u7D22\u7535\u5F71",searchByKeyword:"\u6309\u5173\u952E\u8BCD\u641C\u7D22",posterOfThe:"\u6D77\u62A5",yes:"\u662F",no:"\u5426",overwriteFileQuestion:"\u6587\u4EF6\u5DF2\u5B58\u5728\u3002\u60A8\u8981\u8986\u76D6\u5B83\u5417\uFF1F",missingInput:"\u6CA1\u6709\u8F93\u5165\u67E5\u8BE2\uFF1F",noResultFound:"\u672A\u627E\u5230\u7ED3\u679C",selectPoster:"\u9009\u62E9\u6D77\u62A5",aPoster:"\u4E00\u5F20\u6D77\u62A5"},settings:{movies:"\u7535\u5F71",collections:"\u5408\u96C6",newMovieNoteLocation:"\u65B0\u7535\u5F71\u7B14\u8BB0\u4F4D\u7F6E",newMovieNoteLocationDescription:"\u65B0\u7535\u5F71\u7B14\u8BB0\u5C06\u653E\u7F6E\u5728\u8FD9\u91CC\u3002",folderLocationPlaceholder:"\u793A\u4F8B\uFF1A\u6587\u4EF6\u59391/\u6587\u4EF6\u59392",movieTemplateFile:"\u7535\u5F71\u6A21\u677F\u6587\u4EF6",templateFileDescription:"\u6587\u4EF6\u5C06\u4F5C\u4E3A\u6A21\u677F\u53EF\u7528",templateFilePlaceholder:"\u793A\u4F8B\uFF1A\u6A21\u677F/\u6A21\u677F\u6587\u4EF6.md",newCollectionNoteLocation:"\u65B0\u5408\u96C6\u7B14\u8BB0\u4F4D\u7F6E",newCollectionNoteLocationDescription:"\u65B0\u5408\u96C6\u7B14\u8BB0\u5C06\u653E\u7F6E\u5728\u8FD9\u91CC\u3002",collectionTemplateFile:"\u5408\u96C6\u6A21\u677F\u6587\u4EF6",autoCreateCollectionFlag:"\u81EA\u52A8\u521B\u5EFA\u5408\u96C6",autoCreateCollectionDescription:"\u542F\u7528\u6216\u7981\u7528\u5F53\u7535\u5F71\u5C5E\u4E8E\u67D0\u4E2A\u5408\u96C6\u65F6\u81EA\u52A8\u521B\u5EFA\u5408\u96C6\u7B14\u8BB0",showCreateCollectionRibbonButton:"\u6DFB\u52A0\u624B\u52A8\u521B\u5EFA\u5408\u96C6\u7684\u529F\u80FD\u533A\u6309\u94AE",showCreateCollectionRibbonButtonDescription:"\u542F\u7528\u6216\u7981\u7528\u624B\u52A8\u521B\u5EFA\u5408\u96C6\u7684\u529F\u80FD\u533A\u6309\u94AE",generalSettings:"\u5E38\u89C4\u8BBE\u7F6E",preferredLocale:"\u9996\u9009\u8BED\u8A00",preferredLocaleDescription:"\u8BBE\u7F6E\u641C\u7D22\u7535\u5F71\u6216\u7535\u89C6\u8282\u76EE\u65F6\u4F7F\u7528\u7684\u9996\u9009\u8BED\u8A00",openNoteAfterCreation:"\u521B\u5EFA\u540E\u6253\u5F00\u65B0\u7535\u5F71\u6216\u7535\u89C6\u8282\u76EE\u7B14\u8BB0",openNoteAfterCreationDescription:"\u542F\u7528\u6216\u7981\u7528\u521B\u5EFA\u65F6\u81EA\u52A8\u6253\u5F00\u7B14\u8BB0",selectPoster:"\u624B\u52A8\u9009\u62E9\u6D77\u62A5",selectPosterDescription:"\u5982\u679C\u5B58\u5728\u591A\u4E2A\u6D77\u62A5\uFF0C\u5141\u8BB8\u9009\u62E9\u6D77\u62A5\u56FE\u50CF\u3002\u5982\u679C\u7981\u7528\uFF0C\u5C06\u4F7F\u7528\u9ED8\u8BA4\u6D77\u62A5",tmdbApiTitle:"TMDB API\u5BC6\u94A5",tmdbApiRetrieveApiKey:"\u767B\u5F55\u5E76\u5728\u6B64\u5904\u83B7\u53D6\u60A8\u7684API\u5BC6\u94A5",requiresRestart:"\u9700\u8981\u91CD\u542F\u63D2\u4EF6",exampleTemplate:"\u793A\u4F8B\u6A21\u677F"},commands:{createMovieNote:"\u521B\u5EFA\u65B0\u7535\u5F71\u7B14\u8BB0",createCollectionNote:"\u521B\u5EFA\u65B0\u5408\u96C6\u7B14\u8BB0"},errors:{invalidTmdbApiKey:"\u9519\u8BEF\uFF1A\u672A\u6307\u5B9ATMDB API\u5BC6\u94A5",noLocaleFound:"\u9519\u8BEF\uFF1A\u672A\u6307\u5B9A\u8BED\u8A00\u9996\u9009\u9879"}};var Oo={modals:{requesting:"\u30EA\u30AF\u30A8\u30B9\u30C8\u4E2D...",search:"\u691C\u7D22",searchCollection:"\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u691C\u7D22",searchMovie:"\u6620\u753B\u691C\u7D22",searchByKeyword:"\u30AD\u30FC\u30EF\u30FC\u30C9\u3067\u691C\u7D22",posterOfThe:"\u306E\u30DD\u30B9\u30BF\u30FC",yes:"\u306F\u3044",no:"\u3044\u3044\u3048",overwriteFileQuestion:"\u30D5\u30A1\u30A4\u30EB\u306F\u3059\u3067\u306B\u5B58\u5728\u3057\u307E\u3059\u3002\u4E0A\u66F8\u304D\u3057\u307E\u3059\u304B\uFF1F",missingInput:"\u30AF\u30A8\u30EA\u304C\u5165\u529B\u3055\u308C\u3066\u3044\u307E\u305B\u3093\uFF1F",noResultFound:"\u7D50\u679C\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093",selectPoster:"\u30DD\u30B9\u30BF\u30FC\u3092\u9078\u629E",aPoster:"\u30DD\u30B9\u30BF\u30FC"},settings:{movies:"\u6620\u753B",collections:"\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3",newMovieNoteLocation:"\u65B0\u3057\u3044\u6620\u753B\u30CE\u30FC\u30C8\u306E\u5834\u6240",newMovieNoteLocationDescription:"\u65B0\u3057\u3044\u6620\u753B\u30CE\u30FC\u30C8\u306F\u3053\u3053\u306B\u914D\u7F6E\u3055\u308C\u307E\u3059\u3002",folderLocationPlaceholder:"\u4F8B\uFF1A\u30D5\u30A9\u30EB\u30C01/\u30D5\u30A9\u30EB\u30C02",movieTemplateFile:"\u6620\u753B\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u30D5\u30A1\u30A4\u30EB",templateFileDescription:"\u30D5\u30A1\u30A4\u30EB\u306F\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u3068\u3057\u3066\u5229\u7528\u53EF\u80FD\u306B\u306A\u308A\u307E\u3059",templateFilePlaceholder:"\u4F8B\uFF1A\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8/\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u30D5\u30A1\u30A4\u30EB.md",newCollectionNoteLocation:"\u65B0\u3057\u3044\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u30CE\u30FC\u30C8\u306E\u5834\u6240",newCollectionNoteLocationDescription:"\u65B0\u3057\u3044\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u30CE\u30FC\u30C8\u306F\u3053\u3053\u306B\u914D\u7F6E\u3055\u308C\u307E\u3059\u3002",collectionTemplateFile:"\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u30D5\u30A1\u30A4\u30EB",autoCreateCollectionFlag:"\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u306E\u81EA\u52D5\u4F5C\u6210",autoCreateCollectionDescription:"\u6620\u753B\u304C\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u306B\u5C5E\u3057\u3066\u3044\u308B\u5834\u5408\u3001\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u30CE\u30FC\u30C8\u306E\u81EA\u52D5\u4F5C\u6210\u3092\u6709\u52B9\u307E\u305F\u306F\u7121\u52B9\u306B\u3059\u308B",showCreateCollectionRibbonButton:"\u624B\u52D5\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u4F5C\u6210\u7528\u306E\u30EA\u30DC\u30F3\u30DC\u30BF\u30F3\u3092\u8FFD\u52A0",showCreateCollectionRibbonButtonDescription:"\u624B\u52D5\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u4F5C\u6210\u7528\u306E\u30EA\u30DC\u30F3\u30DC\u30BF\u30F3\u3092\u6709\u52B9\u307E\u305F\u306F\u7121\u52B9\u306B\u3059\u308B",generalSettings:"\u4E00\u822C\u8A2D\u5B9A",preferredLocale:"\u512A\u5148\u8A00\u8A9E",preferredLocaleDescription:"\u6620\u753B\u3084\u30C6\u30EC\u30D3\u756A\u7D44\u3092\u691C\u7D22\u3059\u308B\u969B\u306B\u4F7F\u7528\u3059\u308B\u512A\u5148\u8A00\u8A9E\u3092\u8A2D\u5B9A\u3057\u307E\u3059",openNoteAfterCreation:"\u65B0\u3057\u3044\u6620\u753B\u307E\u305F\u306F\u30C6\u30EC\u30D3\u756A\u7D44\u30CE\u30FC\u30C8\u3092\u958B\u304F",openNoteAfterCreationDescription:"\u4F5C\u6210\u6642\u306B\u30CE\u30FC\u30C8\u3092\u81EA\u52D5\u7684\u306B\u958B\u304F\u3053\u3068\u3092\u6709\u52B9\u307E\u305F\u306F\u7121\u52B9\u306B\u3059\u308B",selectPoster:"\u30DD\u30B9\u30BF\u30FC\u306E\u624B\u52D5\u9078\u629E",selectPosterDescription:"\u8907\u6570\u306E\u30DD\u30B9\u30BF\u30FC\u304C\u5B58\u5728\u3059\u308B\u5834\u5408\u3001\u30DD\u30B9\u30BF\u30FC\u753B\u50CF\u3092\u9078\u629E\u3067\u304D\u308B\u3088\u3046\u306B\u3057\u307E\u3059\u3002\u7121\u52B9\u306B\u3059\u308B\u3068\u3001\u30C7\u30D5\u30A9\u30EB\u30C8\u304C\u4F7F\u7528\u3055\u308C\u307E\u3059",tmdbApiTitle:"TMDB API\u30AD\u30FC",tmdbApiRetrieveApiKey:"\u30ED\u30B0\u30A4\u30F3\u3057\u3066API\u30AD\u30FC\u3092\u53D6\u5F97\u3059\u308B",requiresRestart:"\u30D7\u30E9\u30B0\u30A4\u30F3\u306E\u518D\u8D77\u52D5\u304C\u5FC5\u8981",exampleTemplate:"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u4F8B"},commands:{createMovieNote:"\u65B0\u3057\u3044\u6620\u753B\u30CE\u30FC\u30C8\u3092\u4F5C\u6210",createCollectionNote:"\u65B0\u3057\u3044\u30B3\u30EC\u30AF\u30B7\u30E7\u30F3\u30CE\u30FC\u30C8\u3092\u4F5C\u6210"},errors:{invalidTmdbApiKey:"\u30A8\u30E9\u30FC\uFF1ATMDB API\u30AD\u30FC\u304C\u6307\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093",noLocaleFound:"\u30A8\u30E9\u30FC\uFF1A\u8A00\u8A9E\u8A2D\u5B9A\u304C\u6307\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093"}};var ft=class extends gt.Plugin{constructor(){super(...arguments);this.onMovieCreated=e=>u(this,null,function*(){if(!this.settings.automatic_collection_creation||!e.collection_id)return;let i=parseInt(e.collection_id,10);if(i){var r=yield this.collectionService.getCollectionById(i),n=yield this.collectionService.getFilePath(r,this.settings.collection_folder),s=this.app.vault.getFileByPath(n);!r||s||this.collectionService.createNewCollectioNote(r,!1)}})}initializei18n(){p.loadLocale("en",Lo),p.loadLocale("it",To),p.loadLocale("de",Eo),p.loadLocale("fr",Do),p.loadLocale("es",No),p.loadLocale("pt",Bo),p.loadLocale("ru",Fo),p.loadLocale("zh",Ro),p.loadLocale("ja",Oo),p.setLocale(this.settings.locale_preference)}onload(){return u(this,null,function*(){yield this.loadSettings(),this.initializei18n(),this.movieService=new pt(this.app,this.settings,this.showNotice,this.onMovieCreated),this.collectionService=new dt(this.app,this.settings,this.showNotice),this.settings.api_key||this.showNotice(p.t("errors.invalidTmdbApiKey")),this.settings.locale_preference||this.showNotice(p.t("errors.noLocaleFound")),this.addRibbonIcon("clapperboard",p.t("commands.createMovieNote"),()=>this.movieService.createNewMovieNote()).addClass("obsidian-movie-companion-ribbon-class"),this.settings.show_manual_create_collection_button_ribbon&&this.addRibbonIcon("film",p.t("commands.createCollectionNote"),()=>this.collectionService.searchAndCreateCollectionNote()).addClass("obsidian-movie-companion-ribbon-class"),this.addCommand({id:"open-movie-search-modal",name:p.t("commands.createMovieNote"),callback:()=>this.movieService.createNewMovieNote()}),this.addCommand({id:"open-collection-search-modal",name:p.t("commands.createCollectionNote"),callback:()=>this.collectionService.searchAndCreateCollectionNote()}),this.addSettingTab(new et(this.app,this)),console.log(`Movie Search: version ${this.manifest.version} (requires obsidian ${this.manifest.minAppVersion})`)})}showNotice(e){return u(this,null,function*(){try{new gt.Notice(e==null?void 0:e.toString(),5e3)}catch(i){}})}loadSettings(){return u(this,null,function*(){this.settings=Object.assign({},_o,yield this.loadData())})}};
